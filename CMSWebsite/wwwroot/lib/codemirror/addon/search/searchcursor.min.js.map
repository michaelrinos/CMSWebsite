{"version":3,"sources":["searchcursor.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","doFold","noFold","Pos","ensureFlags","regexp","flags","current","ignoreCase","global","multiline","target","i","length","indexOf","charAt","RegExp","source","maybeMultiline","test","searchRegexpForward","doc","start","line","ch","last","lastLine","lastIndex","string","getLine","match","exec","from","index","to","lastMatchIn","endMargin","newMatch","end","searchRegexpBackward","first","firstLine","adjustPos","orig","folded","pos","foldFunc","min","max","Math","mid","len","slice","SearchCursor","query","options","caseFold","this","atOccurrence","clipPos","matches","reverse","fold","lines","split","search","found","lastIndexOf","top","topString","cutFrom","endString","chunkSize","curLine","before","inside","startLine","startCh","chunk","String","prototype","normalize","str","toLowerCase","findNext","find","findPrevious","result","cmpPos","replace","newText","origin","splitLines","replaceRange","defineExtension","defineDocExtension","ranges","cur","getSearchCursor","getCursor","push","anchor","head","setSelections"],"mappings":"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"}