{"version":3,"sources":["closetag.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","removeKeyMap","map","name","whenClosing","getOption","Pass","autoCloseCurrent","whenOpening","ranges","listSelections","replacements","opt","i","length","empty","pos","head","tok","getTokenAt","inner","innerMode","getMode","state","tagInfo","mode","xmlCurrentTag","tagName","html","configuration","dontCloseTags","htmlDontClose","indentTags","htmlIndent","end","ch","slice","lowerTagName","toLowerCase","type","test","string","charAt","close","indexOf","start","closingTagExists","xmlCurrentContext","emptyTags","text","newPos","Pos","line","indent","dontIndentOnAutoClose","info","replaceRange","anchor","sel","setSelections","indentLine","autoCloseGT","addKeyMap","typingSlash","dontIndentOnSlash","replacement","mixed","context","getLine","replaceSelections","collection","elt","e","newTag","scanForClosingTag","Math","min","lastLine","nextClose","tag","onCx","to","next","commands","closeTag"],"mappings":"CA6BA,SAAUA,GACc,iBAAXC,SAAwC,iBAAVC,OACvCF,EAAIG,QAAQ,wBAAyBA,QAAQ,qBACrB,mBAAVC,QAAwBA,OAAOC,IAC7CD,OAAO,CAAC,uBAAwB,oBAAqBJ,GAErDA,EAAIM,YANR,CAOG,SAASA,GACVA,EAAWC,aAAa,iBAAiB,EAAO,SAASC,EAAIC,EAAKC,GAGhE,GAFIA,GAAOJ,EAAWK,MAAQD,GAC5BF,EAAGI,aAAa,iBACbH,EAAL,CACA,IAAII,EAAM,CAACC,KAAM,iBACC,iBAAPL,IAAmBA,EAAIM,cAChCF,EAAI,OAAS,SAASL,GAAM,OAuGRA,EAvG8BA,GAwG7CQ,UAAU,gBAAwBV,EAAWW,KAC7CC,EAAiBV,GAAI,GAF9B,IAAwBA,IAtGJ,iBAAPC,IAAmBA,EAAIU,cAChCN,EAAI,OAAS,SAASL,GAAM,OAShC,SAAqBA,GACnB,GAAIA,EAAGQ,UAAU,gBAAiB,OAAOV,EAAWW,KAGpD,IAFA,IAAIG,EAASZ,EAAGa,iBAAkBC,EAAe,GAC7CC,EAAMf,EAAGQ,UAAU,iBACdQ,EAAI,EAAGA,EAAIJ,EAAOK,OAAQD,IAAK,CACtC,IAAKJ,EAAOI,GAAGE,QAAS,OAAOpB,EAAWW,KAC1C,IAAIU,EAAMP,EAAOI,GAAGI,KAAMC,EAAMrB,EAAGsB,WAAWH,GAC1CI,EAAQzB,EAAW0B,UAAUxB,EAAGyB,UAAWJ,EAAIK,OAAQA,EAAQH,EAAMG,MACrEC,EAAUJ,EAAMK,KAAKC,eAAiBN,EAAMK,KAAKC,cAAcH,GAC/DI,EAAUH,GAAWA,EAAQrB,KACjC,IAAKwB,EAAS,OAAOhC,EAAWW,KAEhC,IAAIsB,EAAmC,QAA5BR,EAAMK,KAAKI,cAClBC,EAA+B,iBAAPlB,GAAmBA,EAAIkB,eAAmBF,GAAQG,EAC1EC,EAA4B,iBAAPpB,GAAmBA,EAAIoB,YAAgBJ,GAAQK,EAEpEf,EAAIgB,IAAMlB,EAAImB,KAAIR,EAAUA,EAAQS,MAAM,EAAGT,EAAQb,OAASI,EAAIgB,IAAMlB,EAAImB,KAChF,IAAIE,EAAeV,EAAQW,cAE3B,IAAKX,GACW,UAAZT,EAAIqB,OAAqBrB,EAAIgB,KAAOlB,EAAImB,KAAO,SAASK,KAAKtB,EAAIuB,OAAOC,OAAOxB,EAAIuB,OAAO3B,OAAS,KAA4B,GAArBI,EAAIuB,OAAO3B,SACzG,OAAZI,EAAIqB,MAAiBf,EAAQmB,OAC7BzB,EAAIuB,OAAOG,QAAQ,MAAS5B,EAAImB,GAAKjB,EAAI2B,MAAQ,GACjDf,IAAyD,EAAxCc,EAAQd,EAAeO,IACxCS,EAAiBjD,EAAIuB,EAAMK,KAAKsB,mBAAqB3B,EAAMK,KAAKsB,kBAAkBxB,IAAU,GAAII,EAASX,GAAK,GAChH,OAAOrB,EAAWW,KAEpB,IAAI0C,EAA0B,iBAAPpC,GAAmBA,EAAIoC,UAC9C,GAAIA,IAA4C,EAA/BJ,EAAQI,EAAWrB,GAClChB,EAAaE,GAAK,CAAEoC,KAAM,KAAMC,OAAQvD,EAAWwD,IAAInC,EAAIoC,KAAMpC,EAAImB,GAAK,QAD5E,CAKA,IAAIkB,EAASrB,IAAmD,EAArCY,EAAQZ,EAAYK,GAC/C1B,EAAaE,GAAK,CAACwC,OAAQA,EACRJ,KAAM,KAAOI,EAAS,OAAS,IAAM,KAAO1B,EAAU,IACtDuB,OAAQG,EAAS1D,EAAWwD,IAAInC,EAAIoC,KAAO,EAAG,GAAKzD,EAAWwD,IAAInC,EAAIoC,KAAMpC,EAAImB,GAAK,KAG1G,IAAImB,EAAuC,iBAAP1C,GAAmBA,EAAI0C,sBAC3D,IAASzC,EAAIJ,EAAOK,OAAS,EAAQ,GAALD,EAAQA,IAAK,CAC3C,IAAI0C,EAAO5C,EAAaE,GACxBhB,EAAG2D,aAAaD,EAAKN,KAAMxC,EAAOI,GAAGI,KAAMR,EAAOI,GAAG4C,OAAQ,WAC7D,IAAIC,EAAM7D,EAAGa,iBAAiB0B,MAAM,GACpCsB,EAAI7C,GAAK,CAACI,KAAMsC,EAAKL,OAAQO,OAAQF,EAAKL,QAC1CrD,EAAG8D,cAAcD,IACZJ,GAAyBC,EAAKF,SACjCxD,EAAG+D,WAAWL,EAAKL,OAAOE,KAAM,MAAM,GACtCvD,EAAG+D,WAAWL,EAAKL,OAAOE,KAAO,EAAG,MAAM,KAzDTS,CAAYhE,KACjDA,EAAGiE,UAAU5D,MAGf,IAAI6B,EAAgB,CAAC,OAAQ,OAAQ,KAAM,MAAO,UAAW,QAAS,KAAM,MAAO,QAAS,SAAU,OAAQ,OAAQ,QACjG,SAAU,QAAS,OACpCE,EAAa,CAAC,SAAU,aAAc,OAAQ,SAAU,MAAO,KAAM,WAAY,OAAQ,WAAY,KAAM,KAAM,KAAM,KACzG,KAAM,KAAM,OAAQ,OAAQ,SAAU,QAAS,SAAU,SAAU,KAAM,IAAK,SAAU,QAAS,MAuDnH,SAAS1B,EAAiBV,EAAIkE,GAK5B,IAJA,IAAItD,EAASZ,EAAGa,iBAAkBC,EAAe,GAC7CM,EAAO8C,EAAc,IAAM,KAC3BnD,EAAMf,EAAGQ,UAAU,iBACnBiD,EAAuC,iBAAP1C,GAAmBA,EAAIoD,kBAClDnD,EAAI,EAAGA,EAAIJ,EAAOK,OAAQD,IAAK,CACtC,IAAKJ,EAAOI,GAAGE,QAAS,OAAOpB,EAAWW,KAC1C,IAAIU,EAAMP,EAAOI,GAAGI,KAAMC,EAAMrB,EAAGsB,WAAWH,GAC1CI,EAAQzB,EAAW0B,UAAUxB,EAAGyB,UAAWJ,EAAIK,OAAQA,EAAQH,EAAMG,MACzE,GAAIwC,IAA4B,UAAZ7C,EAAIqB,MAA4C,KAAxBrB,EAAIuB,OAAOC,OAAO,IAC1CxB,EAAI2B,OAAS7B,EAAImB,GAAK,GACxC,OAAOxC,EAAWW,KAKpB,IAAI2D,EAAaC,EAA2B,OAAnB9C,EAAMK,KAAKtB,MAAsC,aAArBN,EAAGyB,UAAUnB,KAClE,GAAI+D,GAA4B,cAAnB9C,EAAMK,KAAKtB,KACtB8D,EAAchD,EAAO,cAChB,GAAIiD,GAA4B,OAAnB9C,EAAMK,KAAKtB,KAC7B8D,EAAchD,EAAO,YAChB,CACL,IAAIkD,EAAU/C,EAAMK,KAAKsB,mBAAqB3B,EAAMK,KAAKsB,kBAAkBxB,GAC3E,IAAK4C,GAAYA,EAAQrD,QAAUgC,EAAiBjD,EAAIsE,EAASA,EAAQA,EAAQrD,OAAS,GAAIE,GAC5F,OAAOrB,EAAWW,KACpB2D,EAAchD,EAAOkD,EAAQA,EAAQrD,OAAS,GAEJ,KAAxCjB,EAAGuE,QAAQpD,EAAIoC,MAAMV,OAAOxB,EAAIgB,OAAa+B,GAAe,KAChEtD,EAAaE,GAAKoD,EAIpB,GAFApE,EAAGwE,kBAAkB1D,GACrBF,EAASZ,EAAGa,kBACP4C,EACD,IAASzC,EAAI,EAAGA,EAAIJ,EAAOK,OAAQD,KAC3BA,GAAKJ,EAAOK,OAAS,GAAKL,EAAOI,GAAGI,KAAKmC,KAAO3C,EAAOI,EAAI,GAAGI,KAAKmC,OACnEvD,EAAG+D,WAAWnD,EAAOI,GAAGI,KAAKmC,MAW3C,SAASR,EAAQ0B,EAAYC,GAC3B,GAAID,EAAW1B,QAAS,OAAO0B,EAAW1B,QAAQ2B,GAClD,IAAK,IAAI1D,EAAI,EAAG2D,EAAIF,EAAWxD,OAAQD,EAAI2D,IAAK3D,EAC9C,GAAIyD,EAAWzD,IAAM0D,EAAK,OAAO1D,EACnC,OAAQ,EAKV,SAASiC,EAAiBjD,EAAIsE,EAASxC,EAASX,EAAKyD,GACnD,GAAK9E,EAAW+E,kBAAhB,CACA,IAAIxC,EAAMyC,KAAKC,IAAI/E,EAAGgF,WAAa,EAAG7D,EAAIoC,KAAO,KAC7C0B,EAAYnF,EAAW+E,kBAAkB7E,EAAImB,EAAK,KAAMkB,GAC5D,GAAK4C,GAAaA,EAAUC,KAAOpD,EAAnC,CAKA,IADA,IAAIqD,EAAOP,EAAS,EAAI,EACf5D,EAAIsD,EAAQrD,OAAS,EAAQ,GAALD,GAC3BsD,EAAQtD,IAAMc,EADqBd,MACVmE,EAG/BhE,EAAM8D,EAAUG,GAChB,IAASpE,EAAI,EAAGA,EAAImE,EAAMnE,IAAK,CAC7B,IAAIqE,EAAOvF,EAAW+E,kBAAkB7E,EAAImB,EAAK,KAAMkB,GACvD,IAAKgD,GAAQA,EAAKH,KAAOpD,EAAS,OAClCX,EAAMkE,EAAKD,GAEb,OAAO,IA9BTtF,EAAWwF,SAASC,SAAW,SAASvF,GAAM,OAAOU,EAAiBV"}